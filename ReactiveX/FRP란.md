# ReactiveX

### "함수형 리엑티브 프로그래밍(FRP)이란?"

https://gist.github.com/zzazang/d9188622b10e9b6ed9fc

먼저 버튼을 얼마나 많이 클릭했는지 나타내는 카운터 스트림을 만들어보자. 보통 FRP 라이브러리들에는 map, filter, scan 등의 함수들이 스트림마다 붙어있다. clickStream.map(f)처럼 함수들 중 하나를 부르면 클릭 스트림을 기반으로 한 새 스트림이 리턴된다. 원래의 클릭 스트림은 어떻게든 바뀌지 않는다. 이러한 프로퍼티를 불변성(immutability)이라 부르고, 팬케잌에 시럽이 잘 어울리는 것처럼 FRP 스트림과 함께하는 것이다. clickStream.map(f).scan(g)처럼 연쇄적으로 함수를 이을수도 있다.

```
  clickStream: ---c----c--c----c------c-->
               vvvvv map(c becomes 1) vvvv
               ---1----1--1----1------1-->
               vvvvvvvvv scan(+) vvvvvvvvv
counterStream: ---1----2--3----4------5-->
```

map(f) 함수는 명시한 f 함수를 따라 발생된 값들을 (새 스트림 속으로)치환한다. 위에서는 클릭을 하면 숫자 1로 매핑한다. scan(g) 함수로 스트림에 있는 모든 값을 모아서 x = g(accumulated, current)로 값을 만들고, 여기에서 g는 단순히 덧셈을 해주는 함수다. 그리고나서 counterStream는 클릭이 있을 때마다 총 클릭 횟수를 발생시킨다.

FRP의 진짜 능력을 보고 싶다면 "더블클릭" 이벤트의 스트림을 만들어보면 된다. 좀 더 재미있게 하려면 더블클릭으로 트리플클릭의 스트림을 만들어보거나 더 일반화시켜서 멀티플 클릭(2개 이상)을 만들어보면 된다. 숨을 돌리고 기존의 선언적이나 상태형으로는 어떻게 만들었을지 생각해보자. 꽤 지저분하고 상태를 기록하기 위해 변수들을 만들고 시간차를 계산하기 위한 꼼수들을 넣었을 것이다.

자, FRP로는 정말 간단하다. 사실 로직은 딱 코드 네 줄이다. 일단 코드는 넘어가자. 다이어그램으로 생각하는 것이 초보자든 전문가든 관계없이 스트림을 만들고 이해하는데 제일 좋은 방법이다.